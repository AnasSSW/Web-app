<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Page</title>
  <link rel="stylesheet" href="style_detail.css">
</head>
<body>
  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô (Background Image) -->
  <div class="hero">
    <!-- header -->
    <div class="header">
        <div class="logo">
          <img src="logo.png" alt="logo">
          <span class="text1">HACKA</span><span class="text2">THON</span>
        </div>

        <div class="search-bar">
          <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...">
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login -->
        <div class="actions" id="headerActions">
          <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
        </div>
    </div>
    <!-- header -->
  </div>

  <!-- Notification Modal -->
  <div id="notificationModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
        <span class="close" onclick="closeNotificationModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div id="notificationList" class="notification-list">
          <div class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏•‡πà‡∏≤‡∏á (‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß) -->
  <div class="main-section">
        <!-- Hero Banner -->
        <div class="hero-banner">
            <div class="banner-background">
                <div class="banner-content">
                    <div class="banner-text">
                        <div class="hackathon-title">
                            <span class="hackathon">HACKATHON</span>
                            <span class="finding">FINDING THE BEST ENABLER</span>
                        </div>
                        <div class="thai-text">
                            <p class="main-desc">‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p>
                            <p class="highlight">‡∏™‡∏π‡πà‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö</p>
                            <p class="sme-text">SMEs ‡πÑ‡∏ó‡∏¢</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Detail Card -->
        <div class="detail-card">
            <div class="card-header">
                <div class="profile-section">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <h3>‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</h3>
                        <p>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</p>
                    </div>
                </div>
                <div class="event-status">
                    <span class="time-remaining">3 days remaining</span>
                    <div class="action-buttons">
                        <div class="more-menu-container">
                            <button class="more-btn" onclick="toggleMoreMenu()">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                            <div id="moreDropdownMenu" class="more-dropdown-menu">
                                <button onclick="editPost()" class="edit-option">
                                    <i class="fas fa-edit"></i>
                                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå
                                </button>
                                <button onclick="deletePost()" class="delete-option">
                                    <i class="fas fa-trash"></i>
                                    ‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <div class="description-section">
                    <h4>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h4>
                    <ul class="event-details">
                        <li>- ‡∏≠‡∏±‡∏ô‡∏ï‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏™‡∏°‡∏°‡∏≤‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏á‡∏±‡∏ô Hackathon ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 3 ‡∏Ñ‡∏ô</li>
                        <li>- ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ ........</li>
                    </ul>
                </div>
            </div>

            <div class="card-footer">
                <button class="join-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
                <button class="contact-btn">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>
            </div>
        </div>
    </main>
  </div>

  <!-- footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2025 Hackathon. | ‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</p>
      <div class="footer-links">
        <p>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏≤ <a href="#">About</a> | <a href="#">Contact</a> | <a href="#">Privacy Policy</a></p>
      </div>
    </div>
  </footer>

  <script>
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login
    function checkLoginStatus() {
      const urlParams = new URLSearchParams(window.location.search);
      const isLoggedIn = urlParams.get('logged') === 'true';
      const userLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';
      return isLoggedIn || userLoggedIn;
    }

    function logout() {
      if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
        sessionStorage.removeItem('isLoggedIn');
        sessionStorage.removeItem('userEmail');
        window.location.href = 'index.html';
      }
    }

    function goToProfile() {
      window.location.href = 'profile.html';
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° more menu
    function toggleMoreMenu() {
      const menu = document.getElementById('moreDropdownMenu');
      menu.classList.toggle('show');
    }

    function editPost() {
      console.log('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå');
      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
      const menu = document.getElementById('moreDropdownMenu');
      menu.classList.remove('show');
    }

    function deletePost() {
      if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
        console.log('‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå');
        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
      }
      const menu = document.getElementById('moreDropdownMenu');
      menu.classList.remove('show');
    }

    function loadNotifications() {
      const notificationList = document.getElementById('notificationList');
      notificationList.innerHTML = '<div class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>';
      setTimeout(() => {
        const mockNotifications = [
          {id:1,type:'team',title:'‡∏ó‡∏µ‡∏°‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° Hackathon',message:'‡∏ó‡∏µ‡∏° "Code Warriors" ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ AI Innovation',time:'2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',isRead:false,icon:'üë•'},
          {id:2,type:'message',title:'‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà',message:'‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å John Smith ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ',time:'15 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',isRead:false,icon:'üí¨'},
          {id:3,type:'event',title:'‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£',message:'Blockchain Hackathon 2025 ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß!',time:'1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',isRead:true,icon:'üéØ'},
          {id:4,type:'achievement',title:'‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•!',message:'‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Badge "Team Player"',time:'3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',isRead:true,icon:'üèÜ'}
        ];
        let notificationsHTML = '';
        mockNotifications.forEach(notification => {
          notificationsHTML += `
            <div class="notification-item ${!notification.isRead ? 'unread' : ''}" 
                 onclick="markAsRead(${notification.id})">
              <div class="notification-icon">${notification.icon}</div>
              <div class="notification-content">
                <div class="notification-title">${notification.title}</div>
                <div class="notification-message">${notification.message}</div>
                <div class="notification-time">${notification.time}</div>
              </div>
              ${!notification.isRead ? '<div class="notification-badge"></div>' : ''}
            </div>
          `;
        });
        notificationList.innerHTML = notificationsHTML;
        const unreadCount = mockNotifications.filter(n => !n.isRead).length;
        updateNotificationCount(unreadCount);
      }, 800);
    }

    function showNotifications() {
      const modal = document.getElementById('notificationModal');
      modal.style.display = 'block';
      loadNotifications();
      modal.onclick = function(event) {
        if (event.target === modal) {
          closeNotificationModal();
        }
      }
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
          closeNotificationModal();
        }
      });
    }

    function closeNotificationModal() {
      document.getElementById('notificationModal').style.display = 'none';
    }

    function markAsRead(notificationId) {
      console.log(`Marked notification ${notificationId} as read`);
      const notificationElement = document.querySelector(`[onclick="markAsRead(${notificationId})"]`);
      if (notificationElement) {
        notificationElement.classList.remove('unread');
        const badge = notificationElement.querySelector('.notification-badge');
        if (badge) badge.remove();
      }
      const currentCount = parseInt(document.querySelector('.notification-count').textContent) || 0;
      if (currentCount > 0) {
        updateNotificationCount(currentCount - 1);
      }
    }

    function updateNotificationCount(count) {
      const countElement = document.querySelector('.notification-count');
      if (countElement) {
        if (count > 0) {
          countElement.textContent = count > 99 ? '99+' : count;
          countElement.style.display = 'flex';
        } else {
          countElement.style.display = 'none';
        }
      }
    }

    function updateHeader() {
      const actionsDiv = document.getElementById('headerActions');
      const isLoggedIn = checkLoginStatus();
      if (isLoggedIn) {
        actionsDiv.innerHTML = `
          <div class="user-menu">
            <button class="notification-btn" onclick="showNotifications()">
              <span class="notification-icon">üîî</span>
              <span class="notification-count">3</span>
            </button>
            <div class="hamburger" onclick="toggleMenu()">
              <div></div><div></div><div></div>
            </div>
            <div id="dropdownMenu" class="dropdown-menu">
              <button onclick="goToProfile()">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
              <button onclick="logout()" class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
          </div>
        `;
      } else {
        actionsDiv.innerHTML = `
          <a href="login.html"><button>Login</button></a>
          <a href="register.html"><button>Register</button></a>
        `;
      }
    }

    function toggleMenu() {
      const menu = document.getElementById('dropdownMenu');
      menu.classList.toggle('show');
    }

    document.addEventListener('DOMContentLoaded', function() {
      updateHeader();
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('logged') === 'true') {
        sessionStorage.setItem('isLoggedIn', 'true');
        window.history.replaceState({}, document.title, window.location.pathname);
        updateHeader();
      }
    });

    // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('dropdownMenu');
      const hamburger = document.querySelector('.hamburger');
      const moreMenu = document.getElementById('moreDropdownMenu');
      const moreBtn = document.querySelector('.more-btn');
      
      // ‡∏õ‡∏¥‡∏î user menu
      if (menu && hamburger && !menu.contains(event.target) && !hamburger.contains(event.target)) {
        menu.classList.remove('show');
      }
      
      // ‡∏õ‡∏¥‡∏î more menu
      if (moreMenu && moreBtn && !moreMenu.contains(event.target) && !moreBtn.contains(event.target)) {
        moreMenu.classList.remove('show');
      }
    });
  </script>
</body>
</html>