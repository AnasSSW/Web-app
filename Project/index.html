<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Styled Header</title>
  <link rel="stylesheet" href="style_index.css">
</head>
<body>
  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô (Background Image) -->
  <div class="hero">
    <!-- header -->
    <div class="header">
        <div class="logo">
          <img src="logo.png" alt="logo">
          <span class="text1">HACKA</span><span class="text2">THON</span>
        </div>

        <div class="search-bar">
          <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...">
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login -->
        <div class="actions" id="headerActions">
          <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
        </div>
    </div>
    <!-- header -->
  </div>

  <!-- Notification Modal -->
  <div id="notificationModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
        <span class="close" onclick="closeNotificationModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div id="notificationList" class="notification-list">
          <div class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏•‡πà‡∏≤‡∏á (‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß) -->
  <div class="main-section">
    <div class="container">
      <div class="card">
        <img src="https://southeastasia.hss.de/fileadmin/user_upload/Projects_HSS/South_East_Asia/pictures/events/2021/Thailand/211204-01-Event-Virtual-Hackathon.jpg" alt="product1">
        <h3>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà 1</h3>
        <button>Join team</button>
      </div>
      <div class="card">
        <img src="https://www.spu.ac.th/fac/informatics/wp-content/uploads/sites/10/2023/12/SPU-AI-Prompt-Mini-Hackathon-07-1-scaled.jpg" alt="product2">
        <h3>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà 2</h3>
        <button>Join team</button>
      </div>
      <div class="card">
        <img src="https://th.bing.com/th/id/R.ae5a6a64b605c1231975af957fc31f70?rik=b%2bucy0JKkjmT1A&riu=http%3a%2f%2fstatic1.squarespace.com%2fstatic%2f5cd8cf71b2cf79a5a237fb49%2f5d145deceba7710001cdc1b4%2f624e8fc0a3318b6caef6a1cd%2f1649315883420%2fThematic%2bInnovation%2b2565.jpeg%3fformat%3d1500w&ehk=DqtAKTnQdJI4%2fxGKFXVyQ3q6Zdy6U6JkfuDLbdHdZ5c%3d&risl=&pid=ImgRaw&r=0" alt="product3">
        <h3>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà 3</h3>
        <button>Join team</button>
      </div>
      <div class="card">
        <img src="https://carlifeway.com/wp-content/uploads/2023/05/Welcome-Home-New-Innovation-San-Parang-PTT-Group-Young-Socialpreneur-Hackathon-3.jpg" alt="product4">
        <h3>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà 4</h3>
        <button>Join team</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2025 Hackathon. | ‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</p>
      <div class="footer-links">
        <p>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏≤ <a href="#">About</a> | <a href="#">Contact</a> | <a href="#">Privacy Policy</a></p>
      </div>
    </div>
  </footer>

  <script>
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login ‡∏à‡∏≤‡∏Å URL parameter ‡∏´‡∏£‡∏∑‡∏≠ sessionStorage
    function checkLoginStatus() {
      const urlParams = new URLSearchParams(window.location.search);
      const isLoggedIn = urlParams.get('logged') === 'true';
      const userLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';
      return isLoggedIn || userLoggedIn;
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö logout
    function logout() {
      if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
        sessionStorage.removeItem('isLoggedIn');
        sessionStorage.removeItem('userEmail');
        window.location.href = 'index.html';
      }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
    function goToProfile() {
      alert('‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á)');
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Ajax
    function loadNotifications() {
      const notificationList = document.getElementById('notificationList');
      
      // ‡πÅ‡∏™‡∏î‡∏á loading
      notificationList.innerHTML = '<div class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>';
      
      // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API (‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô URL ‡∏Ç‡∏≠‡∏á API)
      // fetch('/api/notifications')
      
      // ‡πÉ‡∏ä‡πâ setTimeout ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      setTimeout(() => {
        // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏≤‡∏Å server
        const mockNotifications = [
          {
            id: 1,
            type: 'team',
            title: '‡∏ó‡∏µ‡∏°‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° Hackathon',
            message: '‡∏ó‡∏µ‡∏° "Code Warriors" ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ AI Innovation',
            time: '2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',
            isRead: false,
            icon: 'üë•'
          },
          {
            id: 2,
            type: 'message',
            title: '‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà',
            message: '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å John Smith ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ',
            time: '15 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',
            isRead: false,
            icon: 'üí¨'
          },
          {
            id: 3,
            type: 'event',
            title: '‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£',
            message: 'Blockchain Hackathon 2025 ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß!',
            time: '1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',
            isRead: true,
            icon: 'üéØ'
          },
          {
            id: 4,
            type: 'achievement',
            title: '‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•!',
            message: '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Badge "Team Player"',
            time: '3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß',
            isRead: true,
            icon: 'üèÜ'
          }
        ];

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
        let notificationsHTML = '';
        if (mockNotifications.length === 0) {
          notificationsHTML = '<div class="no-notifications">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>';
        } else {
          mockNotifications.forEach(notification => {
            notificationsHTML += `
              <div class="notification-item ${!notification.isRead ? 'unread' : ''}" 
                   onclick="markAsRead(${notification.id})">
                <div class="notification-icon">${notification.icon}</div>
                <div class="notification-content">
                  <div class="notification-title">${notification.title}</div>
                  <div class="notification-message">${notification.message}</div>
                  <div class="notification-time">${notification.time}</div>
                </div>
                ${!notification.isRead ? '<div class="notification-badge"></div>' : ''}
              </div>
            `;
          });
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï HTML
        notificationList.innerHTML = notificationsHTML;
        
        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡πà‡∏≤‡∏ô
        const unreadCount = mockNotifications.filter(n => !n.isRead).length;
        updateNotificationCount(unreadCount);
        
      }, 800); // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏´‡∏•‡∏î
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á modal ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    function showNotifications() {
      const modal = document.getElementById('notificationModal');
      modal.style.display = 'block';
      loadNotifications();
      
      // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà backdrop
      modal.onclick = function(event) {
        // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏°‡∏∑‡∏î (backdrop) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ modal
        if (event.target === modal) {
          closeNotificationModal();
        }
      }
      
      // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î modal ‡∏î‡πâ‡∏ß‡∏¢ ESC key
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
          closeNotificationModal();
        }
      });
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏¥‡∏î modal
    function closeNotificationModal() {
      const modal = document.getElementById('notificationModal');
      modal.style.display = 'none';
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
    function markAsRead(notificationId) {
      // ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡∏™‡πà‡∏á request ‡πÑ‡∏õ server
      // fetch(`/api/notifications/${notificationId}/read`, { method: 'POST' })
      
      console.log(`Marked notification ${notificationId} as read`);
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï UI
      const notificationElement = document.querySelector(`[onclick="markAsRead(${notificationId})"]`);
      if (notificationElement) {
        notificationElement.classList.remove('unread');
        const badge = notificationElement.querySelector('.notification-badge');
        if (badge) {
          badge.remove();
        }
      }
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
      const currentCount = parseInt(document.querySelector('.notification-count').textContent) || 0;
      if (currentCount > 0) {
        updateNotificationCount(currentCount - 1);
      }
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    function updateNotificationCount(count) {
      const countElement = document.querySelector('.notification-count');
      if (countElement) {
        if (count > 0) {
          countElement.textContent = count > 99 ? '99+' : count;
          countElement.style.display = 'flex';
        } else {
          countElement.style.display = 'none';
        }
      }
    }

    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï header ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login
    function updateHeader() {
      const actionsDiv = document.getElementById('headerActions');
      const isLoggedIn = checkLoginStatus();

      if (isLoggedIn) {
        const userEmail = sessionStorage.getItem('userEmail') || 'user@example.com';
        actionsDiv.innerHTML = `
          <div class="user-menu">
            <button class="notification-btn" onclick="showNotifications()">
              <span class="notification-icon">üîî</span>
              <span class="notification-count">3</span>
            </button>
            <div class="user-actions">
              <button onclick="goToProfile()">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
              <button onclick="logout()" class="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
          </div>
        `;
      } else {
        actionsDiv.innerHTML = `
          <a href="login.html"><button>Login</button></a>
          <a href="register.html"><button>Register</button></a>
        `;
      }
    }

    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î
    document.addEventListener('DOMContentLoaded', function() {
      updateHeader();
      
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('logged') === 'true') {
        sessionStorage.setItem('isLoggedIn', 'true');
        window.history.replaceState({}, document.title, window.location.pathname);
        updateHeader();
      }
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡πÜ 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ñ‡πâ‡∏≤ login ‡πÅ‡∏•‡πâ‡∏ß)
      if (checkLoginStatus()) {
        setInterval(() => {
          // ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà
          console.log('Checking for new notifications...');
        }, 30000);
      }
    });
  </script>
</body>
</html>